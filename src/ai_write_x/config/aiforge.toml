max_tokens = 4096
max_rounds = 2
max_optimization_attempts = 3
default_llm_provider = "openrouter"
locale = "zh"                       # ar|de|en|es|fr|hi|ja|ko|pt|ru|vi|zh


[llm.openrouter]
type = "openai"
model = "deepseek/deepseek-chat-v3-0324:free"
api_key = ""
base_url = "https://openrouter.ai/api/v1"
timeout = 60
max_tokens = 8192

[llm.custom]
type = "openai"
model = "gpt-4o-mini"
api_key = ""
base_url = "https://api.openai.com/v1"
timeout = 60
max_tokens = 8192

[llm.grok]
type = "grok"
model = "xai/grok-3"
api_key = ""
base_url = "https://api.x.ai/v1/"
timeout = 60
max_tokens = 8192

[llm.qwen]
type = "openai"
model = "qwen-plus"
api_key = ""
base_url = "https://dashscope.aliyuncs.com/compatible-mode/v1"
timeout = 60
max_tokens = 8192

[llm.gemini]
type = "gemini"
model = "gemini/gemini-2.5-flash"
api_key = ""
base_url = "https://generativelanguage.googleapis.com/v1beta/openai/"
timeout = 60
max_tokens = 8192

[llm.ollama]
type = "ollama"
model = "llama3"
api_key = ""
base_url = "http://localhost:11434"
timeout = 60
max_tokens = 8192

[llm.deepseek]
type = "deepseek"
model = "deepseek-chat"
api_key = ""
base_url = "https://api.deepseek.com"
timeout = 60
max_tokens = 8192

[llm.claude]
type = "claude"
model = "claude-4-sonnet"
api_key = ""
base_url = "https://api.anthropic.com/v1"
timeout = 60
max_tokens = 4096

[llm.cohere]
type = "cohere"
model = "command-r-plus"
api_key = ""
base_url = "https://api.cohere.ai/v1"
timeout = 60
max_tokens = 4096

[llm.mistral]
type = "mistral"
model = "mistral-large-latest"
api_key = ""
base_url = "https://api.mistral.ai/v1"
timeout = 60
max_tokens = 4096


[cache.code]
enabled = true
max_modules = 20
failure_threshold = 0.8
max_age_days = 30
cleanup_interval = 10
semantic_threshold = 0.6
enable_semantic_matching = true
use_lightweight_semantic = false
enable_action_clustering = true
action_cluster_threshold = 0.75

[optimization]
enabled = false
aggressive_minify = true
max_feedback_length = 200
obfuscate_variables = true

# 安全配置 - 进程隔离/基础资源限制
[security]
execution_timeout = 60
memory_limit_mb = 512
cpu_time_limit = 60
file_descriptor_limit = 64
max_file_size_mb = 100
max_processes = 10

# 安全配置 - 文件访问
[security.file_access]
user_specified_paths = true
default_allowed_paths = ["./data", "./output"]
require_explicit_permission = true
max_allowed_paths = 10


[security.network]
# 核心策略级别  
policy = "unrestricted" # unrestricted|strict|filtered|permissive  

# 全局网络限制参数  
max_requests_per_minute = 60
max_concurrent_connections = 10
request_timeout = 30
allowed_protocols = ["http", "https"]
allowed_ports = [80, 443, 8080, 8443]
blocked_ports = [22, 23, 3389, 5432, 3306]

# 生成代码专用控制  
[security.network.generated_code]
force_block_modules = false # 强制阻止网络模块  
force_block_access = false  # 强制阻止网络访问  

# 统一域名过滤（适用于所有执行阶段）  
[security.network.domain_filtering]
enabled = true
whitelist = [
    "api.openai.com",
    "api.deepseek.com",
    "openrouter.ai",
    "baidu.com",
    "bing.com",
    "so.com",
    "sogou.com",
    "api.x.ai",
    "dashscope.aliyuncs.com",
    "generativelanguage.googleapis.com",
]
blacklist = ["malicious-site.com"]

# 任务特定域名扩展  
[security.network.domain_filtering.task_overrides.data_fetch]
mode = "extended"
additional_domains = [
    "sina.com.cn",
    "163.com",
    "qq.com",
    "sohu.com",
    "xinhuanet.com",
    "people.com.cn",
    "chinanews.com",
    "thepaper.cn",
    "36kr.com",
    "ifeng.com",
    "cnbeta.com",
    "zol.com.cn",
    "csdn.net",
    "jianshu.com",
    "zhihu.com",
    "weibo.com",
    "douban.com",
    "bilibili.com",
    "youku.com",
    "iqiyi.com",
    "tencent.com",
    "alibaba.com",
    "jd.com",
    "tmall.com",
    "taobao.com",
]

# 在配置文件中添加扩展部分  
[extensions]
enabled = true
auto_load = true
extension_dir = "extensions"

[[extensions.registered]]
name = "custom_executor"
type = "executor"

[extensions.registered.config]

[[extensions.registered]]
name = "custom_data_processor"
type = "executor"
module_path = "my_plugins.data_processor"
class_name = "CustomDataProcessor"
priority = 1

[[extensions.registered]]
name = "domain_specific_executor"
type = "executor"
config_file = "plugins/domain_executor.toml"
